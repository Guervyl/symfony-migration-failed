<!-- Generated by Guervyl Website Builder -->
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta description=""/>
    <title></title>

    {% block head %}{% endblock %}
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css"
          integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style>

        {% block headStyle %}{% endblock %}
    </style>

</head>

<body>

<div class="container">

    <div class="row">

        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">

            <p>
                Teste form binding lan. Test sa fet avek relasyon one-to-one, many-to-one e many-to-many. E tout
                relasyon an se pou insert yo ye. Li fe test sou validasyon yo tou


                <br/>

                Li itilize propriete sa yo:


                <br/>


            </p>

            <ul>

                <li>
                    &nbsp;Is for insert


                    <br/>


                </li>

                <li>
                    Label value


                    <br/>


                </li>

            </ul>

        </div>

    </div>

    <div class="row">

        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            {{ form_start(mounForm, {"attr": { } }) }}

            <div class="form-group">
                {{ form_label(mounForm.non, "Non moun nan &lpar;Custom label&rpar;.", {"label_attr": { } }) }}
                {{ form_widget(mounForm.non, {"attr": {"class": "form-control", } }) }}
                {% if form_errors(mounForm.non) %}
                    <span class="text-danger">{{ form_errors(mounForm.non) }}
</span>
                {% endif %}

                <p>
                    Not for error


                    <br/>


                </p>

                <span>
Span not for error


</span>

            </div>

            <div class="form-group">
                {{ form_label(mounForm.siyati, null, {"label_attr": { } }) }}
                {{ form_widget(mounForm.siyati, {"attr": {"class": "form-control", } }) }}
                {% if form_errors(mounForm.siyati) %}
                    <span class="text-danger">{{ form_errors(mounForm.siyati) }}
</span>
                {% endif %}

            </div>

            <div class="form-group">
                {{ form_label(mounForm.laj, null, {"label_attr": { } }) }}
                {{ form_widget(mounForm.laj, {"attr": {"class": "form-control",  "type": "integer",} }) }}
                {% if form_errors(mounForm.laj) %}
                    <span class="text-danger">{{ form_errors(mounForm.laj) }}
</span>
                {% endif %}

            </div>

            <div class="form-group">
                {{ form_label(mounForm.ote, null, {"label_attr": { } }) }}
                {{ form_widget(mounForm.ote, {"attr": {"class": "form-control",  "type": "number",} }) }}
                {% if form_errors(mounForm.ote) %}
                    <span class="text-danger">{{ form_errors(mounForm.ote) }}
</span>
                {% endif %}

            </div>

            <div class="form-group">
                {{ form_label(mounForm.sexe, null, {"label_attr": { } }) }}
                {{ form_widget(mounForm.sexe.sexe, {"attr": {"class": "form-control",  "type": "text",} }) }}
                {% if form_errors(mounForm.sexe.sexe) %}
                    <span class="text-danger">{{ form_errors(mounForm.sexe.sexe) }}
</span>
                {% endif %}

            </div>

            <div class="form-group">

                <p>
                    Enf&ograve;masyon de manman an


                    <br/>


                </p>

            </div>

            <div class="form-group">
                {{ form_label(mounForm.manman.non, null, {"label_attr": { } }) }}
                {{ form_widget(mounForm.manman.non, {"attr": {"class": "form-control",  "type": "text", "id": "non-manman",} }) }}
                {% if form_errors(mounForm.manman.non) %}
                    <span class="text-danger">{{ form_errors(mounForm.manman.non) }}
</span>
                {% endif %}

            </div>

            <div class="form-group">
                {{ form_label(mounForm.manman.siyati, null, {"label_attr": { } }) }}
                {{ form_widget(mounForm.manman.siyati, {"attr": {"class": "form-control",  "type": "text",} }) }}
                {% if form_errors(mounForm.manman) %}
                    <span class="text-danger">{{ form_errors(mounForm.manman) }}
</span>
                {% endif %}

            </div>

            <div class="form-group">
                {{ form_label(mounForm.manman.sexe.sexe, null, {"label_attr": { } }) }}
                {{ form_widget(mounForm.manman.sexe.sexe, {"attr": {"class": "form-control",  "type": "text",} }) }}
                {% if form_errors(mounForm.manman.sexe) %}
                    <span class="text-danger">{{ form_errors(mounForm.manman.sexe) }}
</span>
                {% endif %}

            </div>

            <div class="form-group">
                {{ form_label(mounForm.manman.laj, null, {"label_attr": { } }) }}
                {{ form_widget(mounForm.manman.laj, {"attr": {"class": "form-control",  "type": "text",} }) }}
                {% if form_errors(mounForm.manman) %}
                    <span class="text-danger">{{ form_errors(mounForm.manman) }}
</span>
                {% endif %}

            </div>

            <div class="form-group">
                {{ form_label(mounForm.manman.ote, null, {"label_attr": { } }) }}
                {{ form_widget(mounForm.manman.ote, {"attr": {"class": "form-control",  "type": "text",} }) }}
                {% if form_errors(mounForm.manman) %}
                    <span class="text-danger">{{ form_errors(mounForm.manman) }}
</span>
                {% endif %}

            </div>
            {% if mounForm.enfant|length != 0 %}
                <div id="{{ mounForm.enfant.vars.id }}"
                     data-prototype="{{ form_widget(mounForm.enfant.vars.prototype)|replace({"\n":""}) }}">
                    {% for mounFormEnfant in mounForm.enfant %}
                        {{ form_label(mounFormEnfant.non, null, {"label_attr": { } }) }}
                        {{ form_widget(mounFormEnfant.non, {"attr": {"class": "form-control",  "type": "text", "id": "testFormRelIn-moun-manman-input",} }) }}
                        {% if form_errors(mounFormEnfant.non) %}
                            <span class="text-danger">{{ form_errors(mounFormEnfant.non) }}
</span>
                        {% endif %}
                    {% endfor %}
                </div>
            {% else %}
                {{ form_widget(mounForm.enfant) }}
            {% endif %}

            <input type="submit"/>

            {{ form_end(mounForm) }}

        </div>

    </div>

</div>

<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
        integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
        crossorigin="anonymous"></script>


<script>
    $(function () {
        prepareFormCollection($("#{{ mounForm.enfant.vars.id }}"), {{ mounForm.enfant|length }});

    });

    function prepareFormCollection(el, count) {
        var btnAdd = $("<button>Add</button>")
            .addClass("btn btn-default");

        el.before(btnAdd);

        var divs = el.children("div");

        divs.each(function () {
            var btnDelete = $("<button>Remove</button>")
                .addClass("btn btn-danger");

            var div = $(this);

            btnDelete.click(function () {
                div.remove();

                return false;
            });

            $(this).append(btnDelete);
        });

        btnAdd.click(function () {
            var prototype = el.data("prototype");

            prototype = prototype.replace("__name__label__", count);
            prototype = prototype.replace(/__name__/g, count);

            prototype = $(prototype);

            el.after(prototype);

            var btnDelete = $("<button>Remove</button>")
                .addClass("btn btn-danger");

            btnDelete.click(function () {
                prototype.remove();

                return false;
            });

            prototype.append(btnDelete);

            count++;

            return false;
        });
    }
</script>
</body>
</html>